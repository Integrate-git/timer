<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=5.0, user-scalable=yes">
    <title>í•œì™„ê¸° ì‹¤ì „í¸ - ì „ëµ ìˆ˜ë¦½</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #eef2f7;
            color: #0f172a;
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            max-width: 600px;
            width: 100%;
            text-align: center;
        }

        /* í°ìƒ‰ ë°•ìŠ¤ ìŠ¤íƒ€ì¼ */
        .white-box {
            background: #ffffff;
            border-radius: 20px;
            padding: 40px;
            box-shadow: 0 20px 60px rgba(15, 23, 42, 0.10);
            border: 1px solid #e2e8f0;
            margin-bottom: 30px;
        }

        h1 {
            color: #0f172a;
            margin-bottom: 30px;
            font-size: 28px;
            font-weight: bold;
        }

        /* INTEGRATE ì„¹ì…˜ íƒ€ì´í‹€ */
        .integrate-title {
            margin-top: 60px;
            margin-bottom: 20px;
            font-size: 22px;
            font-weight: 800;
            color: #0f172a;
            letter-spacing: 1px;
        }

        .btn {
            width: 100%;
            padding: 18px;
            font-size: 18px;
            font-weight: 600;
            border: none;
            border-radius: 12px;
            cursor: pointer;
            transition: transform 0.2s, box-shadow 0.2s;
            display: flex;
            align-items: center;
            justify-content: center;
            gap: 12px;
            text-decoration: none;
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 25px rgba(0,0,0,0.2);
        }

        .btn:active {
            transform: translateY(0);
        }

        /* ë²„íŠ¼ 1, 2 */
        .btn-image {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            margin-bottom: 15px;
        }

        .btn-timer {
            background: linear-gradient(135deg, #f093fb 0%, #f5576c 100%);
            color: white;
        }

        /* ë²„íŠ¼ 3: Q&A */
        .btn-cafe {
            background: #60a5fa;
            color: white;
            margin-bottom: 15px;
        }
        .btn-cafe:hover {
            background: #3b82f6;
            box-shadow: 0 8px 25px rgba(96, 165, 250, 0.6);
        }

        /* âœ… ë²„íŠ¼ 4: ì •ì˜¤í‘œ (ìˆ˜ì •ë¨) */
        /* ì„¸ë¯¸ì½œë¡ (;) ëˆ„ë½ ìˆ˜ì • ë° íŒŒìŠ¤í…” ì—°ë‘/ì´ˆë¡ìƒ‰ ì ìš© */
        .btn-correction {
            background: #86efac; /* íŒŒìŠ¤í…” ì—°ë‘-ì´ˆë¡ (Tailwind Green 300) */
            color: white;
            margin-bottom: 15px;
        }
        /* í˜¸ë²„ ì‹œ ìƒ‰ìƒë„ ì´ˆë¡ ê³„ì—´ë¡œ ë³€ê²½ */
        .btn-correction:hover {
            background: #4ade80; /* í˜¸ë²„ ì‹œ ì•½ê°„ ì§„í•´ì§ */
            box-shadow: 0 8px 25px rgba(134, 239, 172, 0.6);
        }

        /* ë²„íŠ¼ 5: êµì¬ êµ¬ë§¤ */
        .btn-book {
            background: #1e293b;
            color: white;
        }

        .btn-back {
            background: #6c757d;
            color: white;
            margin-top: 20px;
        }

        .btn-start { background: linear-gradient(135deg, #2563eb 0%, #1d4ed8 100%); color: white; flex: 1; }
        .btn-pause { background: #fbbf24; color: #0f172a; flex: 1; }
        .btn-reset { background: #ef4444; color: white; flex: 1; }
        .btn-record { background: #0ea5e9; color: white; flex: 1; }
        .btn-record:disabled { background: #ccc; cursor: not-allowed; transform: none; box-shadow: none; }

        .screen { display: none; }
        .screen.active { display: block; }

        .image-container img { width: 100%; border-radius: 12px; margin-bottom: 15px; }
        .zoom-hint { color: #999; font-size: 14px; margin-bottom: 15px; }

        .timer-display {
            font-size: 72px;
            font-weight: bold;
            color: #0f172a;
            font-family: 'Courier New', monospace;
            margin: 30px 0;
            text-shadow: 2px 2px 4px rgba(15,23,42,0.08);
        }

        .timer-label { color: #334155; font-size: 18px; margin-bottom: 10px; }
        .timer-hint { color: #475569; font-size: 13px; margin-bottom: 5px; }
        .timer-buttons { display: flex; gap: 10px; margin-bottom: 10px; }
        .timer-buttons .btn { padding: 14px; font-size: 16px; }

        .timestamp-section {
            margin-top: 20px; padding: 15px; background: #f8fafc;
            border-radius: 12px; border: 1px solid #e2e8f0;
        }
        .timestamp-title { font-size: 16px; color: #334155; margin-bottom: 10px; }
        .timestamp-list { display: flex; flex-direction: column; gap: 8px; }
        .timestamp-item {
            display: flex; justify-content: space-between; align-items: center;
            padding: 10px 15px; background: white; border-radius: 8px;
            border-left: 4px solid #0ea5e9; box-shadow: 0 8px 20px rgba(15, 23, 42, 0.04);
        }
        .timestamp-item.empty { color: #94a3b8; border-left-color: #cbd5e1; justify-content: center; }
        .timestamp-number { font-weight: 600; color: #0f172a; }
        .timestamp-time { font-family: 'Courier New', monospace; font-size: 18px; font-weight: bold; color: #0f172a; }
        .record-count { font-size: 14px; color: #64748b; margin-top: 10px; }
        .emoji { font-size: 24px; }

        @media (max-width: 480px) {
            .white-box { padding: 25px; }
            h1 { font-size: 22px; }
            .timer-display { font-size: 50px; }
            .btn { padding: 15px; font-size: 16px; }
            .timer-buttons { flex-wrap: wrap; }
            .timer-buttons .btn { flex: 1 1 45%; }
        }

        /* í•˜ë‹¨ í‘¸í„° ìŠ¤íƒ€ì¼ */
        .ig-footer {
            margin-top: 0; 
            padding: 0 12px 20px;
        }

        .ig-footer__sns {
            display: flex; gap: 10px; align-items: center; justify-content: center; margin-bottom: 15px;
        }

        .ig-sns {
            width: 40px; height: 40px; display: inline-flex; align-items: center; justify-content: center;
            border-radius: 999px; text-decoration: none;
            background: #ffffff; 
            border: 1px solid #e2e8f0;
            transition: transform .12s ease, box-shadow .12s ease; color: #94a3b8;
        }
        .ig-sns:hover, .ig-sns:focus-visible { transform: translateY(-1px); box-shadow: 0 6px 18px rgba(15, 23, 42, .08); }
        .ig-sns svg { width: 20px; height: 20px; fill: currentColor; stroke: currentColor; }
        .ig-sns--instagram:hover { color: #E1306C; border-color: currentColor; }
        .ig-sns--naver:hover { color: #03C75A; border-color: #03C75A; }
        
        .ig-footer__info {
            margin: 12px 0 10px; display: grid; gap: 6px;
            color: #64748b;
            font-size: 12.5px; line-height: 1.35; text-align: center;
        }
        .ig-footer__info p { margin: 0; }
        .ig-footer__info a { color: inherit; text-decoration: underline; text-underline-offset: 2px; }

        .ig-footer__copyright {
            margin: 0; font-size: 12.5px; color: #94a3b8; text-align: center;
        }

        body.timer-no-zoom { touch-action: pan-y; }
    </style>
</head>
<body>
    <div class="container">
        
        <div id="main-screen" class="screen active">
            <div class="white-box">
                <h1>í•œì™„ê¸° ì‹¤ì „í¸</h1>
                
                <button class="btn btn-image" onclick="showScreen('image')">
                    ë‹¨ê³„ë³„ ì „ëµ ìˆ˜ë¦½
                </button>
                <button class="btn btn-timer" onclick="showScreen('timer')">
                    <span class="emoji">â±ï¸</span>
                    100ë¶„ íƒ€ì´ë¨¸
                </button>

                <h1 class="integrate-title">INTEGRATE</h1>
                
                <a href="https://cafe.naver.com/f-e/cafes/23380319/menus/427?t=1756279915781" target="_blank" class="btn btn-cafe">
                    <span class="emoji">â“</span>
                    ì´í•´ì›ì—°êµ¬ì†Œ Q&A
                </a>

                <a href="https://sdijbooks.com/detail/ser/?SER_CD=383" target="_blank" class="btn btn-correction">
                    <span class="emoji">ğŸ“¢</span>
                    ì •ì˜¤í‘œ
                </a>

                <a href="https://www.sdijbooks.com/detail/ser/?SER_CD=383" target="_blank" class="btn btn-book">
                    <span class="emoji">ğŸ“š</span>
                    2027 í•œê¶Œìœ¼ë¡œ ì™„ì„±í•˜ëŠ” ê¸°ì¶œ
                </a>
            </div>

            <footer class="ig-footer" role="contentinfo">
                <div class="ig-footer__sns">
                    <a href="https://www.instagram.com/lhw_math/" target="_blank" class="ig-sns ig-sns--instagram">
                        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                            <rect x="3" y="3" width="18" height="18" rx="5" ry="5" fill="none" stroke="currentColor" stroke-width="2"></rect>
                            <circle cx="12" cy="12" r="4" fill="none" stroke="currentColor" stroke-width="2"></circle>
                            <circle cx="17" cy="7" r="1.4" fill="currentColor"></circle>
                        </svg>
                    </a>
                    <a href="https://cafe.naver.com/pnmath" target="_blank" class="ig-sns ig-sns--naver">
                        <svg viewBox="0 0 24 24" aria-hidden="true" focusable="false">
                            <rect x="3" y="3" width="18" height="18" rx="4" fill="none" stroke="currentColor" stroke-width="2"></rect>
                            <path d="M7.5 17.5V6.5h3.1l3.9 6.6V6.5h3v11h-3.1l-3.9-6.6v6.6h-3z" fill="currentColor"></path>
                        </svg>
                    </a>
                </div>

                <div class="ig-footer__info">
                    <p>ì£¼ì†Œ : ì„œìš¸íŠ¹ë³„ì‹œ ê°•ë‚¨êµ¬ ì„ ë¦‰ë¡œ 608 (ì‚¼ì„±ë™, ì„ ì§„ë¹Œë”© 6ì¸µ)</p>
                    <p>ãˆœ ì¸í„°ê·¸ë ˆì´íŠ¸ | ëŒ€í‘œì´ì‚¬: ì´í•´ì›</p>
                    <p>ì‚¬ì—…ìë“±ë¡ë²ˆí˜¸: 401-87-02099</p>
                    <p>ì´ë©”ì¼: <a href="mailto:info@integrate.kr">info@integrate.kr</a></p>
                </div>

                <p class="ig-footer__copyright">
                    Copyright Â© 2025 ãˆœ ì¸í„°ê·¸ë ˆì´íŠ¸ All rights reserved.
                </p>
            </footer>
        </div>

        <div id="image-screen" class="screen">
            <div class="white-box">
                <h1>ë‹¨ê³„ë³„ ì „ëµ ìˆ˜ë¦½</h1>
                <p class="zoom-hint">ğŸ” ë‘ ì†ê°€ë½ìœ¼ë¡œ í˜ì´ì§€ ì „ì²´ë¥¼ í™•ëŒ€/ì¶•ì†Œí•  ìˆ˜ ìˆì–´ìš”</p>
                <div class="image-container">
                    <img src="ë‹¨ê³„ë³„ ì „ëµ_v2.png" alt="ë‹¨ê³„ë³„ ì „ëµ">
                    <button class="btn btn-back" onclick="goBackToMain()">
                        â† ë’¤ë¡œ ê°€ê¸°
                    </button>
                </div>
            </div>
        </div>

        <div id="timer-screen" class="screen">
            <div class="white-box">
                <h1>â±ï¸ 100ë¶„ íƒ€ì´ë¨¸</h1>
                <p class="timer-hint">ğŸ’¡ ì‹œí—˜ ì‹œì‘ ì „ì— ë¨¼ì € [ì‹œì‘], [ê¸°ë¡] ë²„íŠ¼ì„ ëˆŒëŸ¬ì„œ í…ŒìŠ¤íŠ¸í•´ë³´ì„¸ìš”</p>
                <p class="timer-label">ê²½ê³¼ ì‹œê°„</p>
                <div class="timer-display" id="timer-display">00:00</div>
                <div class="timer-buttons">
                    <button class="btn btn-start" id="start-btn" onclick="toggleTimer()">â–¶ ì‹œì‘</button>
                    <button class="btn btn-record" id="record-btn" onclick="recordTimestamp()">ğŸ“Œ ê¸°ë¡</button>
                    <button class="btn btn-reset" onclick="resetTimer()">â†º ë¦¬ì…‹</button>
                </div>

                <div class="timestamp-section">
                    <p class="timestamp-title">ğŸ“‹ ê¸°ë¡ëœ íƒ€ì„ìŠ¤íƒ¬í”„</p>
                    <div class="timestamp-list" id="timestamp-list">
                        <div class="timestamp-item empty">ê¸°ë¡ ì—†ìŒ</div>
                    </div>
                    <p class="record-count" id="record-count">ë‚¨ì€ ê¸°ë¡ íšŸìˆ˜: 4íšŒ</p>
                </div>

                <button class="btn btn-back" onclick="goBackToMain()">â† ë’¤ë¡œ ê°€ê¸°</button>
            </div>
        </div>

    </div>

    <script>
        const maxTime = 100 * 60;
        let timerInterval = null;
        let isRunning = false;
        let startTime = null;
        let pausedElapsed = 0;
        let timerEnded = false;
        const maxRecords = 4;
        let timestamps = [];
        const recordLabels = ['1íšŒë… ë‹¨ê³„', '2íšŒë… ë‹¨ê³„', 'ê²€í† /ë§ˆë¬´ë¦¬', 'í’€ì´ ì¢…ë£Œ'];
        let currentScreen = 'main';

        function shouldBlockPinchZoom() { return currentScreen === 'timer'; }

        ['gesturestart', 'gesturechange', 'gestureend'].forEach(evtName => {
            document.addEventListener(evtName, function(e) {
                if (shouldBlockPinchZoom()) e.preventDefault();
            }, { passive: false });
        });

        function blockMultiTouch(e) {
            if (!shouldBlockPinchZoom()) return;
            if (e.touches && e.touches.length > 1) e.preventDefault();
        }
        document.addEventListener('touchstart', blockMultiTouch, { passive: false });
        document.addEventListener('touchmove', blockMultiTouch, { passive: false });

        function showScreen(screen) {
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById(screen + '-screen').classList.add('active');
            currentScreen = screen;
            document.body.classList.toggle('timer-no-zoom', screen === 'timer');
            if (screen !== 'main') history.pushState({ screen: screen }, '', '');
        }

        function formatTime(seconds) {
            const mins = Math.floor(seconds / 60);
            const secs = seconds % 60;
            return mins.toString().padStart(2, '0') + ':' + secs.toString().padStart(2, '0');
        }

        function getElapsedTime() {
            if (!isRunning || !startTime) return pausedElapsed;
            const now = Date.now();
            const elapsed = pausedElapsed + Math.floor((now - startTime) / 1000);
            return Math.min(elapsed, maxTime);
        }

        function updateDisplay() {
            const elapsed = getElapsedTime();
            document.getElementById('timer-display').textContent = formatTime(elapsed);
            if (elapsed >= maxTime && isRunning && !timerEnded) {
                timerEnded = true;
                clearInterval(timerInterval);
                pausedElapsed = maxTime;
                isRunning = false;
                const btn = document.getElementById('start-btn');
                btn.textContent = 'â–¶ ì‹œì‘';
                btn.className = 'btn btn-start';
                alert('ğŸ”” ì‹œí—˜ì‹œê°„ì´ ì¢…ë£Œë˜ì—ˆìŠµë‹ˆë‹¤.');
            }
        }

        function toggleTimer() {
            const btn = document.getElementById('start-btn');
            if (isRunning) {
                clearInterval(timerInterval);
                pausedElapsed = getElapsedTime();
                startTime = null;
                isRunning = false;
                btn.textContent = 'â–¶ ì‹œì‘';
                btn.className = 'btn btn-start';
            } else {
                if (getElapsedTime() < maxTime) {
                    startTime = Date.now();
                    isRunning = true;
                    timerEnded = false;
                    btn.textContent = 'â¸ ì¼ì‹œì •ì§€';
                    btn.className = 'btn btn-pause';
                    if (timerInterval) clearInterval(timerInterval);
                    timerInterval = setInterval(updateDisplay, 500);
                    updateDisplay();
                }
            }
        }

        function recordTimestamp() {
            if (timestamps.length >= maxRecords) {
                alert('ëª¨ë“  ë‹¨ê³„ê°€ ê¸°ë¡ë˜ì—ˆìŠµë‹ˆë‹¤.');
                return;
            }
            const elapsed = getElapsedTime();
            if (!isRunning && elapsed === 0) {
                alert('íƒ€ì´ë¨¸ë¥¼ ë¨¼ì € ì‹œì‘í•´ì£¼ì„¸ìš”.');
                return;
            }
            timestamps.push(elapsed);
            updateTimestampDisplay();
        }

        function updateTimestampDisplay() {
            const listElement = document.getElementById('timestamp-list');
            const countElement = document.getElementById('record-count');
            const recordBtn = document.getElementById('record-btn');
            if (timestamps.length === 0) {
                listElement.innerHTML = '<div class="timestamp-item empty">ê¸°ë¡ ì—†ìŒ</div>';
            } else {
                listElement.innerHTML = timestamps.map((time, index) => `
                    <div class="timestamp-item">
                        <span class="timestamp-number">${recordLabels[index]}</span>
                        <span class="timestamp-time">${formatTime(time)}</span>
                    </div>
                `).join('');
            }
            const remaining = maxRecords - timestamps.length;
            countElement.textContent = `ë‚¨ì€ ê¸°ë¡ íšŸìˆ˜: ${remaining}íšŒ`;
            if (remaining === 0) recordBtn.disabled = true;
            else recordBtn.disabled = false;
        }

        function resetTimer() {
            clearInterval(timerInterval);
            timerInterval = null;
            isRunning = false;
            startTime = null;
            pausedElapsed = 0;
            timerEnded = false;
            timestamps = [];
            updateDisplay();
            updateTimestampDisplay();
            const btn = document.getElementById('start-btn');
            btn.textContent = 'â–¶ ì‹œì‘';
            btn.className = 'btn btn-start';
            document.getElementById('record-btn').disabled = false;
        }

        function goBackToMain() {
            if (currentScreen === 'timer') resetTimer();
            document.body.classList.remove('timer-no-zoom');
            currentScreen = 'main';
            document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
            document.getElementById('main-screen').classList.add('active');
        }

        function handlePageResume() { if (isRunning) updateDisplay(); }
        document.addEventListener('visibilitychange', function() { if (!document.hidden) handlePageResume(); });
        window.addEventListener('focus', handlePageResume);
        window.addEventListener('pageshow', handlePageResume);
        window.addEventListener('popstate', function(e) { goBackToMain(); });
        history.replaceState({ screen: 'main' }, '', '');
    </script>
</body>
</html>
